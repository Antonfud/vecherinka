<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò–≥—Ä—ã –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–∫–∏</title>
  <style>
    body { font-family: sans-serif; background: #f0f2f5; margin: 0; padding: 2rem; }
    h1 { text-align: center; }
    .menu { max-width: 500px; margin: 2rem auto; display: flex; flex-direction: column; gap: 1rem; }
    .menu button { padding: 1rem; font-size: 1.2rem; border: none; border-radius: 1rem; background: #4CAF50; color: white; cursor: pointer; }
    .menu button:hover { background: #45a049; }
    .game-container { max-width: 600px; margin: 2rem auto; background: white; padding: 1.5rem; border-radius: 1rem; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
    #backBtn { display: block; margin: 1rem auto; background: #888; color: white; padding: .75rem 1.25rem; border: none; border-radius: .5rem; cursor: pointer; }
  </style>
</head>
<body>
  <h1>üéâ –ò–≥—Ä—ã –¥–ª—è –≤–µ—á–µ—Ä–∏–Ω–∫–∏</h1>
  <div class="menu" id="mainMenu">
    <button onclick="showGame('spy')">üïµÔ∏è –®–ø–∏–æ–Ω —Å—Ä–µ–¥–∏ –Ω–∞—Å</button>
    <button onclick="showGame('who')">ü§î –ö—Ç–æ –∏–∑ –Ω–∞—Å...</button>
  </div>
  <div class="game-container" id="gameContainer" style="display:none;"></div>
  <button id="backBtn" style="display:none;" onclick="goBack()">‚¨Ö –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é</button>

  <script>
    const gameContainer = document.getElementById('gameContainer');
    const mainMenu = document.getElementById('mainMenu');
    const backBtn = document.getElementById('backBtn');

    function goBack(){
      gameContainer.style.display = 'none';
      backBtn.style.display = 'none';
      mainMenu.style.display = 'flex';
    }

    function showGame(game){
      mainMenu.style.display = 'none';
      backBtn.style.display = 'block';
      gameContainer.style.display = 'block';
      if (game === 'spy') renderSpyGame();
      else renderWhoGame();
    }

    function renderSpyGame(){
      gameContainer.innerHTML = `
        <h2>üïµÔ∏è –®–ø–∏–æ–Ω —Å—Ä–µ–¥–∏ –Ω–∞—Å</h2>
        <p>–û–¥–∏–Ω –∏–≥—Ä–æ–∫ ‚Äî —à–ø–∏–æ–Ω, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–Ω–∞—é—Ç –ª–æ–∫–∞—Ü–∏—é. –ù–∞–π–¥–∏—Ç–µ —à–ø–∏–æ–Ω–∞!</p>
        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤: <input type="number" id="playerCount" min="3" max="12" value="6"></label><br><br>
        <button onclick="generateRoles()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª–∏</button>
        <div id="roleList"></div>
      `;
    }

    function generateRoles(){
      const count = parseInt(document.getElementById('playerCount').value);
      const locations = ["–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä","–†–µ—Å—Ç–æ—Ä–∞–Ω","–ü–ª—è–∂","–®–∫–æ–ª–∞","–ë–æ–ª—å–Ω–∏—Ü–∞","–ê—ç—Ä–æ–ø–æ—Ä—Ç","–ó–æ–æ–ø–∞—Ä–∫","–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å","–ö–∞–∑–∏–Ω–æ","–¢—é—Ä—å–º–∞"];
      const loc = locations[Math.floor(Math.random() * locations.length)];
      const roles = Array(count).fill(`–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å: ${loc}`);
      const spy = Math.floor(Math.random() * count);
      roles[spy] = "–í—ã ‚Äî –®–ü–ò–û–ù! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–≥–∞–¥–∞—Ç—å –ª–æ–∫–∞—Ü–∏—é.";
      const container = document.getElementById('roleList');
      container.innerHTML = '';
      roles.forEach((r,i) => {
        const btn = document.createElement('button');
        btn.textContent = `–ò–≥—Ä–æ–∫ ${i+1} ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å —Ä–æ–ª—å`;
        btn.style.margin = '0.5rem 0';
        btn.onclick = () => alert(r);
        container.appendChild(btn);
      });
    }

    function renderWhoGame(){
      const qs = [
        "–ö—Ç–æ –∏–∑ –Ω–∞—Å —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –æ–ø–æ–∑–¥–∞–µ—Ç –Ω–∞ –≤—Å—Ç—Ä–µ—á—É?",
        "–ö—Ç–æ –∏–∑ –Ω–∞—Å –ª—É—á—à–µ –≤—Å–µ—Ö –≥–æ—Ç–æ–≤–∏—Ç?",
        "–ö—Ç–æ –∏–∑ –Ω–∞—Å –º–æ–≥ –±—ã –≤—ã–∂–∏—Ç—å –≤ –ª–µ—Å—É?",
        "–ö—Ç–æ –∏–∑ –Ω–∞—Å –±–æ–ª—å—à–µ –≤—Å–µ—Ö —Å–∏–¥–∏—Ç –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ?",
        "–ö—Ç–æ –∏–∑ –Ω–∞—Å —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∞–º—ã–µ —Å–º–µ—à–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏?",
        "–ö—Ç–æ –∏–∑ –Ω–∞—Å –ø–µ—Ä–≤—ã–º –Ω–∞—á–Ω–µ—Ç –ø–µ—Ç—å –Ω–∞ –∫–∞—Ä–∞–æ–∫–µ?"
      ];
      gameContainer.innerHTML = `
        <h2>ü§î –ö—Ç–æ –∏–∑ –Ω–∞—Å...</h2>
        <button onclick="showQuestion()">–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å</button>
        <div id="questionBox" style="margin-top:1rem; font-size:1.2rem; font-weight:bold;"></div>
      `;
      window.showQuestion = ()=> {
        const q = qs[Math.floor(Math.random() * qs.length)];
        document.getElementById('questionBox').textContent = q;
      };
    }
  </script>
</body>
</html>
